# 前后端接口对接规范

### 前言

> 随着互联网的高速发展，前端页面的展示、交互体验越来越灵活、炫丽，响应体验也要求越来越高，后端服务的高并发、高可用、高性能、高扩展等特性的要求也愈加苛刻，从而导致前后端研发各自专注于自己擅长的领域深耕细作。
>
> 然而带来的另一个问题：前后端的对接界面双方却关注甚少，没有任何接口约定规范情况下各自撸起袖子就是干，导致我们在产品项目开发过程中，前后端的接口联调对接
>  工作量占比在30%-50%左右，甚至会更高。往往前后端接口联调对接及系统间的联调对接都是整个产品项目研发的软肋。
>
> 本文的主要初衷就是规范约定先行，尽量避免沟通联调产生的不必要的问题，让大家身心愉快地专注于各自擅长的领域。

### 规范原则

> - 接口返回数据即显示：前端仅做渲染逻辑处理；
> - 渲染逻辑禁止跨多个接口调用；
> - 前端关注交互、渲染逻辑，尽量避免业务逻辑处理的出现；
> - 请求响应传输数据格式：JSON，JSON数据尽量简单轻量，避免多级JSON的出现；

##### 响应基本格式

```javascript
{
    data: {}
    message: "success"
    respCode: "0"
}

```

- respCode: 请求处理状态

```
0:  请求处理成功
-1: 请求处理失败
```

- message:请求处理消息

```java
respCode:0
message:"success"
---------------------
respCode:-1
message:"处理异常消息提示"
```

- data:响应数据

```
data:响应返回的实体数据
```

##### 响应分页格式

```java
{
 	data: {
            count: 0
            list: []
            pageCount: 0
            page: 1
            pageSize: 10
    	   }
    message: "success"
    respCode: "0"
}
```

```java
data.count:总条数;

data.list:响应数据;

data.pageCount:总页数;

data.page:当前页;

data.pageSize:每页展示的条数;
```

##### 数据为空的返回规范

> 使用空对象（empty object）来代替返回null。理由很简单，空对象与其他有意义的对象一样，使得调用方法的用户不需要区分返回值，即不需要判断返回值是否为null，从而简化了客户端调用（不必在使用返回值之前进行 if 判断）；另外也使得客户端的代码更不容易出错（避免忘记判断null）。